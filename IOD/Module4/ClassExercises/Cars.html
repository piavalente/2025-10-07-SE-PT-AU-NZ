<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cars</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  
  <body>
        <template id="car-template">
            <div class="card col-8" style="width: 18rem; margin:10px">
                <div class="card-body">
                    <h5 class="card-title">Car title</h5>
                    <p class="card-text">Car text.</p>
                </div>
            </div>
        </template>
    <div id="car-list" class="row"></div> <!--clone and populate car list-->
    <div>
        <form id ="formEntry">
            <div>
                <label>Title:</label>
                <input type = "text" name="description">
            </div>
             <div>
                <label>Title:</label>
                <input type = "text" name="description">
            </div>
                  <input type = "submit">
        </form>
    </div>
  </body>
  
  <script>
        const carData = [
            { 
                title: 'Audi', 
                description: 'Audi AG is a German automotive manufacturer of luxury vehicles headquartered in Ingolstadt, Bavaria, Germany.' 
            },
            {
                title: 'Mercedes-Benz', 
                description: 'Mercedes-Benz, commonly referred to as Mercedes, is a German luxury automotive brand.' 
            },
            {
                title: 'BMW', 
                description: 'Bayerische Motoren Werke AG, commonly referred to as BMW, is a German multinational corporate manufacturer of luxury vehicles and motorcycles headquartered in Munich, Bavaria, Germany.' 
            }
            ];

            const studentData = [
                {firstName: "Bruce", Location: "Sydney"},
                {firstName: "Willy", Location: "Melbourne"},
                {firstName: "Scott", Location: "Auckland"},
                {firstName: "Adam", Location: "Wellington"},
            ]

            document.getElementById("formEntry").addEventListener("submit",(e) => e.preventDefault()) //e is generated by the form "formEntry". it can be any letter or word
            //can remove this function part
            /*function getCars() {
                return new Promise(resolve => {
                    setTimeout(function() {
                        // resolve the promise with the car data after 1s
                        resolve(carData)
                    }, 1000)
                })
            }*/

            // clone, then populate, then append a new template
            function addCard(car) {

                    const template = document.getElementById("car-template").content.cloneNode(true);
                    template.querySelector('.card-title').innerText = car.title;
                    template.querySelector('.card-text').innerText = car.description;
                    document.querySelector('#car-list').appendChild(template);
            }

            function addStudent(student) {

                    const template = document.getElementById("car-template").content.cloneNode(true);
                    template.querySelector('.card-title').innerText = student.firstName;
                    template.querySelector('.card-text').innerText = student.Location;
                    document.querySelector('#car-list').appendChild(template);
            }

            // get data asynchronously, then use it to populate a template 
            carData.forEach(car => addCard(car)) 
            //can remove getCars().then( (cars) => ... and change cardData.forEach(car => addCard(car))

            studentData.forEach(student => addStudent(student))

</script>
</body>
</html>`

      

